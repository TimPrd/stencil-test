System.register(["./p-97191e2f.system.js"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.r;n=t.h;o=t.e}],execute:function(){var r=t("app_auth",function(){function t(t){e(this,t);this.nav=document.querySelector("ion-nav");this.authClient=new OktaAuth({clientId:"0oaziqh9phTKOd8vJ4x5",url:"https://dev-309363.okta.com",issuer:"default"})}t.prototype.componentWillLoad=function(){var t=localStorage.getItem("okta_id_token");if(t){this.nav.push("/profile")}};t.prototype.handleKeyDown=function(t){if(t.key==="Enter"){this.login()}};t.prototype.login=function(){var t=this;var e=this.host.querySelectorAll("input");var n={username:e[0].value,password:e[1].value};return this.authClient.signIn(n).then((function(e){if(e.status==="SUCCESS"){return t.authClient.token.getWithoutPrompt({responseType:"id_token",scopes:["openid","profile","email"],sessionToken:e.sessionToken,redirectUri:"https://stencil-app.timothepardieu.now.sh"}).then((function(e){localStorage.setItem("okta_id_token",JSON.stringify(e));t.nav.push("app-profile")}))}else{throw"Unable to handle "+e.status+" status code"}})).fail((function(t){console.error(t)}))};t.prototype.render=function(){var t=this;return n("form",{class:"app-auth"},n("div",{class:"form-item"},n("label",null,"Username:",n("input",{type:"text",name:"username",autocomplete:"username"}))),n("div",{class:"form-item"},n("label",null,"Password:",n("input",{type:"password",name:"password",autocomplete:"current-password"}))),n("div",{class:"form-actions"},n("button",{type:"button",onClick:function(){return t.login()}},"Login")))};Object.defineProperty(t.prototype,"host",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".app-auth{width:30%;margin:2rem auto}.app-auth .form-item{padding:.25rem}.app-auth label{width:100%;font-size:1rem;color:#999}.app-auth label input{width:97%;border-radius:.25rem;font-size:1.5rem}.app-auth .form-actions{text-align:right}"},enumerable:true,configurable:true});return t}())}}}));