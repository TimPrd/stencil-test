import{r as o,j as t,h as i}from"./p-b49b9ea2.js";const l=class{constructor(i){o(this,i),this.router=document.querySelector("ion-router"),this.isServer=t(this,"isServer")}componentWillLoad(){if(console.log(">>>componentWillLoad"),!this.isServer){let o=JSON.parse(localStorage.getItem("okta_id_token"));o?(this.user=o.claims,console.log(this.user)):this.router.push("/login")}}componentWillUpdate(){if(console.log(">>>componentWillUpdate"),!this.isServer){let o=JSON.parse(localStorage.getItem("okta_id_token"));o?(this.user=o.claims,console.log(this.user)):this.router.push("/login")}}movies(){this.router.push("/")}logout(){this.isServer||(localStorage.removeItem("okta_id_token"),location.reload())}render(){if(this.user){let o=Object.keys(this.user);return i("div",{class:"app-profile"},i("h2",null,this.user.name),i("ul",null,o.map(o=>i("li",null,i("span",null,o),": ",this.user[o]))),i("ion-button",{onClick:this.logout},"Logout"),i("ion-button",{onClick:this.movies},"Movies"))}i("div",null,"Oh no ! ðŸ˜¨")}static get style(){return".app-profile{padding:10px}.app-profile ul li span{font-weight:700}"}};export{l as app_profile};